<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="netfuItemCompany">


	<!-- 채용정보 검색 -->
	
	
	
	<!-- 채용정보 검색 Count -->
	
	
	
	<!-- 채용정보 상세 -->
	<!-- 
		- 기업 정보 : select * from netfu_company where uid = '$uid'
		- 모집요강 : select * from netfu_item_company where `no` ='$no'
		     상세요강 : 모집요강 ==> biz_detail
	 -->
	
	
	<!-- 모집요강 -->
	<select id="selectNetfuItemCompanyMap" parameterType="hashmap" resultType="allwork.vo.NetfuItemCompanyVo">
		select 
			no,
			uid,
			info_type,
			biz_name,
			biz_title,
			biz_post,
			biz_address1,
			biz_address2,
			biz_type1,
			getCodeName(biz_type1) biz_type1_name,
			biz_type2,
			getCodeName(biz_type2) biz_type2_name,
			biz_type3,
			getCodeName(biz_type3) biz_type3_name,
			biz_type4,
			getCodeName(biz_type4) biz_type4_name,
			biz_type5,
			getCodeName(biz_type5) biz_type5_name,
			biz_type6,
			getCodeName(biz_type6) biz_type6_name,
			biz_type7,
			getCodeName(biz_type7) biz_type7_name,
			biz_type8,
			getCodeName(biz_type8) biz_type8_name,
			biz_type9,
			getCodeName(biz_type9) biz_type9_name,
			biz_position,
			biz_area1,
			getCodeName(biz_area1) biz_area1_name,
			biz_area2,
			getCodeName(biz_area2) biz_area2_name,
			biz_area3,
			getCodeName(biz_area3) biz_area3_name,
			biz_area4,
			getCodeName(biz_area4) biz_area4_name,
			biz_area5,
			getCodeName(biz_area5) biz_area5_name,
			biz_area6,
			getCodeName(biz_area6) biz_area6_name,
			biz_subway,
			biz_business,
			biz_men,
			biz_jobfrom,
			getCodeName(biz_jobfrom) biz_jobfrom_name,
			biz_pay,
			getCodeName(biz_pay) biz_pay_name,
			biz_welfare,
			biz_sex,
			biz_age,
			biz_ability,
			biz_preferential,
			getCodeName(biz_preferential) biz_preferential_name,
			biz_career,
			biz_detail,
			biz_end_day,
			biz_end_type,
			biz_ing,
			biz_method,
			getCodeName(biz_method) biz_method_name,
			biz_person,
			biz_pemail,
			biz_pphone,
			biz_pfax,
			wdate,
			u_wdate,
			j_wdate,
			service1,
			service2,
			service3,
			service4,
			service5,
			service100,
			service6,
			service7,
			service8,
			service9,
			service10,
			service11,
			biz_paper,
			getCodeName(biz_paper) biz_paper_name,
			biz_form,
			biz_form_file,
			sms_send,
			biz_page,
			hit,
			type_r,
			order_view
		from netfu_item_company
		WHERE 1=1
			AND no = #{no}
	</select>
	
	 
	
	<!-- 온라인 입사지원 Count -->
	<select id="selectOnlineRecruitCnt" parameterType="hashmap" resultType="int">
		select count(no) cnt from netfu_online_recruit where uid=#{loginId} and type='job' and to_type='online'
	</select>
	
	
	<!-- 맞춤 채용 정보 Count - 개인회원 홈 -->
	<select id="selectRecruitSettedCnt" parameterType="hashmap" resultType="int">
		select count(no)
		from netfu_item_company
		where 1=1
	</select>
	
	
	<!-- 맞춤 채용 정보 목록 - 개인회원 홈 -->
	<select id="selectRecruitSettedList" parameterType="hashmap" resultType="allwork.vo.NetfuItemCompanyVo">
		select 	
			no, uid, biz_name, biz_title, 'open'
			, biz_pay, getCodeName(biz_pay) biz_pay_name ### 급여정보
			, biz_career ## 경력
			, biz_age ## 나이
			, biz_area1, getCodeName(biz_area1) biz_area1_name ## 근무지역
			, biz_ability	## 학력
			, biz_sex
			, biz_end_day, biz_end_type, biz_ing
			, biz_type1, getCodeName(biz_type1) biz_type1_name
			, biz_area1, getCodeName(biz_area1) biz_area1_name
			, biz_area2, getCodeName(biz_area2) biz_area2_name
			, biz_jobfrom, getCodeName(biz_jobfrom) biz_jobfrom_name
			, DATE_FORMAT(wdate, '%Y-%m-%d') wdate
		from netfu_item_company
		where 1=1
		order by u_wdate desc 	
		limit #{start}, #{pageSize}
	</select>

	
</mapper>